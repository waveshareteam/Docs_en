<svg width="1100" height="530" viewBox="0 0 550 265" xmlns="http://www.w3.org/2000/svg" font-family="Segoe UI, -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', Arial, sans-serif">
  <defs>
    <style>
      .box-text {
        font-size: 16px;
        text-anchor: middle;
        dominant-baseline: middle;
        fill: #000;
      }
      .layer-label {
        font-size: 18px;
        font-weight: bold;
        text-anchor: start;
        dominant-baseline: middle;
        fill: #000;
      }
      .container {
        stroke: #444;
        stroke-width: 1.5;
        fill="white"
      }
      .box {
        stroke: #666;
        stroke-width: 1.5;
        rx: 10;
        ry: 10;
      }
    </style>
  </defs>
  <!-- Main container with reduced width -->
  <rect x="5" y="5" width="540" height="255" rx="10" ry="10" class="container" fill="#fcfcfc" />
  <!-- Layer: Applications -->
  <g>
    <rect x="130" y="20" width="380" height="40" rx="10" ry="10" class="box" fill="#d6e8ff" />
    <text x="320" y="40" class="box-text" font-size="20px">Applications</text>
  </g>
  <!-- Separator Line 1 -->
  <line x1="20" y1="70" x2="530" y2="70" stroke="#aaa" stroke-width="2" stroke-dasharray="5,5" />
  <!-- Layer: Profiles -->
  <g>
    <text x="30" y="100" class="layer-label">Profiles</text>
    <!-- ESP-BLE-MESH Box -->
    <rect x="130" y="80" width="120" height="40" class="box" fill="#f5f5f5" />
    <text x="190" y="100" class="box-text">ESP-BLE-MESH</text>
    <!-- BluFi Box -->
    <rect x="260" y="80" width="70" height="40" class="box" fill="#f5f5f5" />
    <text x="295" y="100" class="box-text">BluFi</text>
    <!-- HID Box -->
    <rect x="340" y="80" width="70" height="40" class="box" fill="#f5f5f5" />
    <text x="375" y="100" class="box-text">HID</text>
    <!-- ... Box -->
    <rect x="420" y="80" width="90" height="40" class="box" fill="#f5f5f5" />
    <text x="465" y="100" class="box-text" font-size="24px" dominant-baseline="central">...</text>
  </g>
  <!-- Separator Line 2 -->
  <line x1="20" y1="130" x2="530" y2="130" stroke="#aaa" stroke-width="2" stroke-dasharray="5,5" />
  <!-- Layer: Hosts -->
  <g>
    <text x="30" y="160" class="layer-label">Hosts</text>
    <!-- ESP-Bluedroid Box -->
    <rect x="130" y="140" width="185" height="40" class="box" fill="#d9f0d3" />
    <text x="222.5" y="160" class="box-text">ESP-Bluedroid</text>
    <!-- ESP-NimBLE Box -->
    <rect x="325" y="140" width="185" height="40" class="box" fill="#d9f0d3" />
    <text x="417.5" y="160" class="box-text">ESP-NimBLE</text>
  </g>
  <!-- Separator Line 3 -->
  <line x1="20" y1="190" x2="530" y2="190" stroke="#aaa" stroke-width="2" stroke-dasharray="5,5" />
  <!-- Layer: Controller -->
  <g>
    <text x="30" y="220" class="layer-label">Controller</text>
    <!-- ESP Bluetooth Controller Box -->
    <rect x="130" y="200" width="380" height="40" class="box" fill="#ffeacc" />
    <text x="320" y="220" class="box-text">ESP Bluetooth Controller</text>
  </g>
</svg>