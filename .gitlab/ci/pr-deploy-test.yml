pr_build_test:
  stage: build
  image: node:22
  
  rules:
    - if: $CI_PIPELINE_SOURCE == 'merge_request_event'
      changes:
        - "**/*"
        - "!README.md"
        - "!.github/**"
        
  script:
    - npm config set registry https://registry.npmmirror.com
    - npm ci --verbose --prefer-offline
    - npm run build